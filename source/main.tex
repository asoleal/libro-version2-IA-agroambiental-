% !TEX program = xelatex
\documentclass[11pt,a4paper]{report}

% ==========================================
% 1. PAQUETES FUNDAMENTALES
% ==========================================
\usepackage{geometry}
\geometry{margin=2.5cm}
\usepackage[spanish, es-nodecimaldot, es-noquoting, es-notilde]{babel}

% Matemáticas y Fuentes
\usepackage{amsmath, amssymb, amsfonts, amsthm}
\usepackage{bm}
\usepackage{newunicodechar} 
\usepackage{csquotes}

% Gráficos y TikZ
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{calc, arrows.meta}

% Hipervínculos
\usepackage[unicode=true, psdextra, colorlinks=true, linkcolor=black, urlcolor=blue]{hyperref}

% ==========================================
% 2. DEFINICIÓN DE COLORES
% ==========================================
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.97,0.97,0.98}
\definecolor{keyblue}{rgb}{0.0, 0.0, 0.8}
\definecolor{terminalbg}{rgb}{0.95, 0.95, 0.95} 
\definecolor{terminalframe}{rgb}{0.6, 0.6, 0.6} 

% ==========================================
% 3. CONFIGURACIÓN DE CÓDIGO (LISTINGS)
% ==========================================
\usepackage{listings}

\lstdefinestyle{pythonstyle}{
    language=Python,
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{keyblue}\bfseries,
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small,
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showstringspaces=false,
    tabsize=4,
    frame=single,
    rulecolor=\color{gray!30},
    literate={ó}{{\'o}}1 {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ú}{{\'u}}1 {ñ}{{\~n}}1
}
\lstset{style=pythonstyle}

% Mapeo de caracteres griegos
\newunicodechar{θ}{\ensuremath{\theta}}
\newunicodechar{α}{\ensuremath{\alpha}}
\newunicodechar{β}{\ensuremath{\beta}}

% ==========================================
% 4. CAJAS PERSONALIZADAS (TCOLORBOX)
% ==========================================
\usepackage[most]{tcolorbox} 
\tcbuselibrary{breakable, skins, listings} 

% --- A. CAJA DE SALIDA / CONSOLA ---

\ifdefined\PANDOC
  % ===== Versión para Pandoc (HTML) =====
  \newenvironment{salida}[1][Resultados]
  {
    \begin{verbatim}
  }
  {
    \end{verbatim}
  }
\else
  % ===== Versión para LaTeX (PDF bonito) =====
  \newtcblisting{salida}[1][Resultados]{
      colback=terminalbg,
      colframe=terminalframe,
      listing only,
      listing options={
          basicstyle=\small\ttfamily,
          breaklines=true,
          columns=fullflexible,
          language={}
      },
      title={\texttt{>\_} #1},
      coltitle=black!80,
      colbacktitle=gray!15,
      fonttitle=\bfseries\ttfamily,
      arc=2pt,
      boxrule=0.5pt,
      enhanced,
      breakable,
      left=5pt, right=5pt, top=5pt, bottom=5pt
  }
\fi

% --- B. AGROBOX (Conceptos Agrícolas) ---
\newtcolorbox{agrobox}[1]{
    colback=green!5!white,
    colframe=green!50!black,
    fonttitle=\bfseries,
    title={$\clubsuit$ #1}, 
    enhanced,
    breakable
}

% --- C. APPBOX (Aplicación Mecatrónica) ---
\newtcolorbox{appbox}[1]{
    colback=cyan!5!white,
    colframe=cyan!50!black,
    fonttitle=\bfseries,
    title={$\spadesuit$ #1},
    enhanced,
    breakable
}

% --- D. ALERTBLOCK (Advertencias) ---
\newtcolorbox{alertblock}[1]{
    colback=red!5!white,
    colframe=red!75!black,
    fonttitle=\bfseries,
    title={$\triangle$ Atenci\'on: #1},
    enhanced,
    breakable
}

% ==========================================
% INICIO DEL DOCUMENTO
% ==========================================
\begin{document}

% --- INICIO DE LA PORTADA ---
\begin{titlepage}
    \centering
    \vspace*{1cm}
    {\Huge\bfseries Matemáticas para la \par}
    \vspace{0.5cm}
    {\Huge\bfseries Inteligencia Artificial Agroambiental \par}
    \vspace{1.5cm}
    {\Large\itshape Vectores, Matrices y Tensores con aplicaciones en Python \par}
    \vspace{2cm}
    {\Large \textbf{Autor:} \par}
    {\Large John Jairo Leal Gómez \par}
    \vfill
    {\large Universidad Nacional de Colombia \par}
    {\large \today \par}
\end{titlepage}
% --- FIN DE LA PORTADA ---

% --- ESTRUCTURA DEL LIBRO ---

\pagenumbering{roman} 
\tableofcontents      
\newpage              

\pagenumbering{arabic} 

% INTRODUCCIÓN GENERAL (O Capítulo 1)
\chapter{El Motor de la IA: De Escalares a Tensores}
En este capítulo se presentan los conceptos preliminares de álgebra lineal necesarios para el desarrollo de modelos de inteligencia artificial en contextos agro-ambientales, industriales y administrativos.

% --- AQUÍ ESTÁ EL CAMBIO CLAVE: USAR \input ---
% \input "pega" el texto tal cual, lo que facilita la creación del HTML.

\input{chapters/estructura-datos}
\input{chapters/operaciones-estructuras}
\input{chapters/matrices-especiales}
\input{chapters/sistemas_ecuaciones}
\input{chapters/regresion_lineal}

\end{document}